<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Título optimizado (65 caracteres) -->
    <title>Terrazas de Bayona - Alojamiento en La Habana Cuba | Reservas Online</title>
    
    <!-- Descripción optimizada (155 caracteres) -->
    <meta name="description" content="Reserva alojamiento en Terrazas de Bayona, La Habana. Habitación privada con aire acondicionado, Wi-Fi, 2 terrazas y desayuno cubano. Experiencia auténtica con Alexander e Isaida. ¡Reserva ahora!">
    
    <!-- Canonical URL (evita contenido duplicado) -->
    <link rel="canonical" href="https://reservaterrazasdebayona59.com/">
    
    <!-- Schema.org JSON-LD para rich results en Google -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "LodgingBusiness",
      "name": "Terrazas de Bayona",
      "description": "Alojamiento privado en La Habana, Cuba con habitaciones cómodas, terrazas y desayuno tradicional cubano.",
      "url": "https://reservaterrazasdebayona59.com/",
      "address": {
        "@type": "PostalAddress",
        "addressLocality": "La Habana",
        "addressCountry": "CU"
      },
      "priceRange": "$15-$25",
      "telephone": "+5356382909",
      "image": "https://i.postimg.cc/Y9jZwcg0/terraza.jpg",
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.8",
        "reviewCount": "4"
      }
    }
    </script>
    
    <meta name="keywords" content="alojamiento La Habana, casa particular Cuba, reservas Habana, Terrazas de Bayona, hospedaje Cuba, Airbnb Habana">
    <meta name="author" content="Terrazas de Bayona">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://reservaterrazasdebayona59.com/">
    <meta property="og:title" content="Terrazas de Bayona - Alojamiento Auténtico en La Habana">
    <meta property="og:description" content="Experimenta la auténtica Cuba en nuestro alojamiento familiar. Habitación privada con terrazas, Wi-Fi y desayuno cubano tradicional.">
    <meta property="og:image" content="https://i.postimg.cc/hjh6qFxK/desayuno.jpg">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://reservaterrazasdebayona59.com/">
    <meta property="twitter:title" content="Terrazas de Bayona - Alojamiento en La Habana Cuba">
    <meta property="twitter:description" content="Descubre tu hogar perfecto en La Habana. Comodidad, tranquilidad y una experiencia cubana auténtica.">
    <meta property="twitter:image" content="https://i.postimg.cc/Y9jZwcg0/terraza.jpg">
    
    <!-- Favicon (usa un icono real si tienes) -->
    <link rel="icon" type="image/x-icon" href="https://cdn-icons-png.flaticon.com/512/2091/2091470.png">
    
    <!-- Google Analytics 4 (REEMPLAZA TU-ID-GA4 con tu ID real) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=TU-ID-GA4"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'TU-ID-GA4');
      
      // Evento personalizado para reservas
      function trackReservation(reference, price) {
        gtag('event', 'reservation_request', {
          'event_category': 'booking',
          'event_label': reference,
          'value': price
        });
      }
      
      // Evento para interacciones con WhatsApp
      function trackWhatsAppClick(action) {
        gtag('event', 'whatsapp_click', {
          'event_category': 'contact',
          'event_label': action
        });
      }
    </script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    
    <!-- Estilos personalizados -->
    <style>
        :root {
            --primary-teal: #0d9488;
            --accent-yellow: #fbbf24;
            --dark-teal: #115e59;
            --light-teal: #ccfbf1;
            --warm-gray: #f5f5f4;
        }
        
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #f7f7f7; 
            scroll-behavior: smooth;
        }
        .content-container { 
            max-width: 1200px; 
            margin: 0 auto;
        }
        .hero-text-shadow { 
            text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.8); 
        }
        .animate-on-scroll { 
            opacity: 0; 
            transform: translateY(30px); 
            transition: opacity 0.8s ease-out, transform 0.8s ease-out; 
        }
        .scrolled-in { 
            opacity: 1; 
            transform: translateY(0); 
        }
        .star-rating { 
            direction: rtl; 
            display: inline-flex; 
        }
        .star-rating label { 
            cursor: pointer; 
            font-size: 1.5rem; 
            color: #d1d5db; 
            transition: color 0.2s; 
            direction: ltr; 
        }
        .star-rating input:checked ~ label,
        .star-rating label:hover,
        .star-rating label:hover ~ label { 
            color: var(--accent-yellow); 
        }
        .star-rating input { 
            display: none; 
        }
        #main-header { 
            top: 0; 
            width: 100%; 
            z-index: 50; 
            transition: all 0.3s ease;
        }
        #main-header.scrolled {
            background-color: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }
        .gallery-item img { 
            transition: transform 0.3s ease-in-out, filter 0.3s ease-in-out; 
        }
        .gallery-item:hover img { 
            transform: scale(1.05); 
            filter: brightness(0.9); 
        }
        .gallery-item { 
            overflow: hidden; 
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .gallery-item:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
        .modal-overlay { 
            background-color: rgba(0, 0, 0, 0.5); 
        }
        .modal-content { 
            animation: modalFadeIn 0.3s ease-out; 
        }
        @keyframes modalFadeIn {
            from { 
                opacity: 0; 
                transform: translateY(-20px); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }
        .whatsapp-float {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 100;
            animation: float 3s ease-in-out infinite;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        /* Mejoras para móviles */
        @media (max-width: 768px) {
            .content-container {
                padding-left: 1rem;
                padding-right: 1rem;
            }
            .hero-text-shadow {
                text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.8);
            }
        }
        
        /* Efecto de carga suave */
        .fade-in {
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        /* Loading spinner */
        .spinner {
            border: 3px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            border-top: 3px solid var(--primary-teal);
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Aspect ratio utility */
        .aspect-w-16 { position: relative; padding-bottom: 56.25%; }
        .aspect-w-16 > * { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
        
        /* Custom colors */
        .bg-teal-600 { background-color: var(--primary-teal) !important; }
        .hover\:bg-teal-700:hover { background-color: var(--dark-teal) !important; }
        .text-teal-600 { color: var(--primary-teal) !important; }
        .text-teal-700 { color: var(--dark-teal) !important; }
        .bg-yellow-400 { background-color: var(--accent-yellow) !important; }
        .hover\:bg-yellow-500:hover { background-color: #f59e0b !important; }
        .text-yellow-300 { color: #fde68a !important; }
        .bg-teal-50 { background-color: var(--light-teal) !important; }
        
        /* Video player custom */
        .video-wrapper {
            position: relative;
            width: 100%;
            border-radius: 1rem;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        }
        
        .video-thumbnail {
            width: 100%;
            height: 500px;
            object-fit: cover;
            cursor: pointer;
            transition: transform 0.7s ease;
        }
        
        .video-thumbnail:hover {
            transform: scale(1.05);
        }
        
        .video-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0.3) 50%, transparent 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }
        
        .play-button-large {
            background: rgba(13, 148, 136, 0.9);
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2rem;
            transition: all 0.3s ease;
            border: 3px solid white;
        }
        
        .play-button-large:hover {
            background: rgba(13, 148, 136, 1);
            transform: scale(1.1);
            box-shadow: 0 0 30px rgba(13, 148, 136, 0.5);
        }
        
        .video-caption {
            position: absolute;
            bottom: 20px;
            left: 20px;
            color: white;
            text-align: left;
        }
        
        .youtube-iframe {
            width: 100%;
            height: 500px;
            border: none;
            border-radius: 1rem;
        }
    </style>
</head>
<body class="text-gray-800 fade-in">

    <!-- BOTÓN FLOTANTE WHATSAPP -->
    <div class="whatsapp-float">
        <a href="https://wa.me/5356382909?text=Hola,%20quiero%20más%20información%20sobre%20Terrazas%20de%20Bayona" 
           target="_blank"
           class="bg-green-500 text-white p-4 rounded-full shadow-lg hover:bg-green-600 transition transform hover:scale-110 flex items-center"
           aria-label="Contactar por WhatsApp"
           onclick="trackWhatsAppClick('float_button')">
            <i class="fab fa-whatsapp text-2xl"></i>
        </a>
    </div>

    <!-- CABECERA FIJA Y NAVEGACIÓN -->
    <header id="main-header" class="bg-white shadow-md sticky top-0 z-50">
        <div class="content-container mx-auto px-4 py-3 flex justify-between items-center">
            <a href="#" class="text-2xl font-bold text-teal-600 hover:text-teal-800 transition duration-300">
                <i class="fas fa-home mr-2"></i>Terrazas de Bayona
            </a>
            
            <nav class="hidden md:flex items-center space-x-6">
                <a href="#about" class="text-sm font-medium text-gray-600 hover:text-teal-600 transition">Nosotros</a>
                <a href="#alojamiento" class="text-sm font-medium text-gray-600 hover:text-teal-600 transition">Alojamiento</a>
                <a href="#servicios" class="text-sm font-medium text-gray-600 hover:text-teal-600 transition">Servicios</a>
                <a href="#ubicacion" class="text-sm font-medium text-gray-600 hover:text-teal-600 transition">Ubicación</a>
                <a href="#opiniones" class="text-sm font-medium text-gray-600 hover:text-teal-600 transition">Opiniones</a>
                <a href="#reservas" class="text-sm font-medium text-gray-600 hover:text-teal-600 transition">Reservas</a>
                <a href="#contacto" class="text-sm font-medium text-gray-600 hover:text-teal-600 transition duration-300">Contáctanos</a>
            </nav>

            <button id="mobile-menu-button" class="md:hidden p-2 text-gray-600 hover:text-teal-600 rounded-lg transition duration-300"
                    aria-label="Abrir menú móvil">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
                </svg>
            </button>
        </div>
        
        <div id="mobile-menu" class="hidden md:hidden px-4 pb-4 bg-gray-50 border-t border-gray-200">
            <a href="#about" class="block py-2 text-sm font-medium text-gray-700 hover:text-teal-600">Nosotros</a>
            <a href="#alojamiento" class="block py-2 text-sm font-medium text-gray-700 hover:text-teal-600">Alojamiento</a>
            <a href="#servicios" class="block py-2 text-sm font-medium text-gray-700 hover:text-teal-600">Servicios</a>
            <a href="#ubicacion" class="block py-2 text-sm font-medium text-gray-700 hover:text-teal-600">Ubicación</a>
            <a href="#opiniones" class="block py-2 text-sm font-medium text-gray-700 hover:text-teal-600">Opiniones</a>
            <a href="#reservas" class="block py-2 text-sm font-medium text-gray-700 hover:text-teal-600">Reservas</a>
            <a href="#contacto" class="block py-2 text-sm font-medium text-gray-700 hover:text-teal-600">Contáctanos</a>
        </div>
    </header>

    <!-- NUEVA SECCIÓN HERO - DISEÑO PREMIUM -->
    <section class="relative h-screen min-h-[600px] overflow-hidden">
        <!-- Fondo con overlay gradient -->
        <div class="absolute inset-0 z-0">
            <img src="https://i.postimg.cc/Y9jZwcg0/terraza.jpg" 
                 alt="Vista panorámica de Terrazas de Bayona, La Habana"
                 class="w-full h-full object-cover">
            <div class="absolute inset-0 bg-gradient-to-r from-teal-900/70 via-teal-800/50 to-transparent"></div>
            <div class="absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent"></div>
        </div>
        
        <!-- Contenido principal centrado -->
        <div class="relative z-10 h-full flex items-center">
            <div class="content-container mx-auto px-4">
                <div class="max-w-2xl">
                    <!-- Badge de autenticidad -->
                    <div class="inline-flex items-center bg-white/20 backdrop-blur-sm text-white px-4 py-2 rounded-full mb-6">
                        <i class="fas fa-heart mr-2"></i>
                        <span class="text-sm font-semibold">Experiencia 100% Cubana</span>
                    </div>
                    
                    <!-- Título principal -->
                    <h1 class="text-5xl md:text-7xl font-bold text-white mb-4 leading-tight">
                        Tu <span class="text-yellow-300">Hogar</span><br>
                        en <span class="text-yellow-300">La Habana</span>
                    </h1>
                    
                    <!-- Subtítulo -->
                    <p class="text-xl md:text-2xl text-white/90 mb-8 font-light max-w-xl">
                        Donde la calidez cubana se encuentra con el confort moderno. 
                        Más que alojamiento, una experiencia familiar.
                    </p>
                    
                    <!-- CTA Principal -->
                    <div class="flex flex-wrap gap-4">
                        <a href="#reservas" 
                           class="bg-yellow-400 hover:bg-yellow-500 text-teal-900 font-bold px-8 py-4 rounded-full transition-all transform hover:scale-105 shadow-2xl hover:shadow-3xl flex items-center group"
                           onclick="gtag('event', 'click', {'event_category': 'cta', 'event_label': 'reservar_experiencia_completa_hero'});">
                            <i class="fas fa-calendar-check mr-3 text-xl"></i>
                            <span class="text-lg">Reservar Experiencia Completa</span>
                            <i class="fas fa-arrow-right ml-3 group-hover:translate-x-2 transition-transform"></i>
                        </a>
                        
                        <a href="#video-experiencia" 
                           class="bg-transparent border-2 border-white text-white hover:bg-white/10 px-8 py-4 rounded-full transition-all font-bold flex items-center"
                           onclick="gtag('event', 'click', {'event_category': 'cta', 'event_label': 'ver_experiencia_hero'});">
                            <i class="fas fa-play-circle mr-3"></i>
                            Ver Experiencia
                        </a>
                    </div>
                    
                    <!-- Puntos destacados -->
                    <div class="flex flex-wrap gap-6 mt-12">
                        <div class="flex items-center text-white">
                            <div class="bg-white/20 p-2 rounded-lg mr-3">
                                <i class="fas fa-star"></i>
                            </div>
                            <div>
                                <p class="font-bold">4.8/5</p>
                                <p class="text-sm opacity-80">En todas las plataformas</p>
                            </div>
                        </div>
                        
                        <div class="flex items-center text-white">
                            <div class="bg-white/20 p-2 rounded-lg mr-3">
                                <i class="fas fa-home"></i>
                            </div>
                            <div>
                                <p class="font-bold">16+ años</p>
                                <p class="text-sm opacity-80">Recibiendo huéspedes</p>
                            </div>
                        </div>
                        
                        <div class="flex items-center text-white">
                            <div class="bg-white/20 p-2 rounded-lg mr-3">
                                <i class="fas fa-users"></i>
                            </div>
                            <div>
                                <p class="font-bold">Familiar</p>
                                <p class="text-sm opacity-80">Atención personalizada</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Scroll indicator -->
        <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 z-10">
            <div class="animate-bounce">
                <i class="fas fa-chevron-down text-white text-2xl"></i>
            </div>
        </div>
    </section>

    <!-- BANNER DE CONFIANZA -->
    <section class="py-12 bg-white border-y border-gray-200">
        <div class="content-container mx-auto px-4">
            <div class="text-center mb-8">
                <h3 class="text-2xl font-bold text-gray-900 mb-2">
                    Confían en nuestra experiencia
                </h3>
                <p class="text-gray-600">
                    Huéspedes de más de 25 países han vivido la auténtica Cuba con nosotros
                </p>
            </div>
            
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
                <div class="text-center">
                    <div class="text-4xl font-bold text-teal-600 mb-2">98%</div>
                    <p class="text-gray-700 font-medium">Tasa de repetición</p>
                    <p class="text-sm text-gray-500">Huéspedes que regresan</p>
                </div>
                
                <div class="text-center">
                    <div class="text-4xl font-bold text-teal-600 mb-2">4.8★</div>
                    <p class="text-gray-700 font-medium">Calificación promedio</p>
                    <p class="text-sm text-gray-500">En todas las plataformas</p>
                </div>
                
                <div class="text-center">
                    <div class="text-4xl font-bold text-teal-600 mb-2">16+</div>
                    <p class="text-gray-700 font-medium">Años de experiencia</p>
                    <p class="text-sm text-gray-500">Como anfitriones</p>
                </div>
                
                <div class="text-center">
                    <div class="text-4xl font-bold text-teal-600 mb-2">24/7</div>
                    <p class="text-gray-700 font-medium">Disponibilidad</p>
                    <p class="text-sm text-gray-500">Atención personalizada</p>
                </div>
            </div>
            
            <!-- Logos de plataformas -->
            <div class="flex justify-center items-center space-x-8 mt-12 opacity-60">
                <div class="text-2xl text-gray-400">
                    <i class="fab fa-airbnb"></i>
                </div>
                <div class="text-2xl text-gray-400">
                    <i class="fas fa-b"></i>
                </div>
                <div class="text-2xl text-gray-400">
                    <i class="fab fa-google"></i>
                </div>
            </div>
        </div>
    </section>

    <!-- SECCIÓN SOBRE NOSOTROS -->
    <section id="about" class="py-16 bg-gray-50">
        <div class="content-container mx-auto px-4 grid md:grid-cols-2 gap-12 items-center">
            <div class="order-2 md:order-1 animate-on-scroll">
                <img src="https://i.postimg.cc/G29V10Yr/asencio-e-izaida.jpg" 
                     alt="Alexander e Isaida - Anfitriones de Terrazas de Bayona en La Habana"
                     class="w-full h-auto rounded-xl shadow-2xl object-cover">
            </div>
            <div class="order-1 md:order-2 animate-on-scroll">
                <span class="inline-block bg-teal-100 text-teal-800 px-4 py-2 rounded-full text-sm font-semibold mb-4">
                    <i class="fas fa-heart mr-2"></i> Tu familia en Cuba
                </span>
                <h2 class="text-3xl font-bold text-teal-700 mb-4">Un poco sobre nosotros</h2>
                <p class="text-gray-700 mb-4 leading-relaxed">
                    Somos Alexander e Isaida, una pareja con 16 años de casados y el corazón abierto para recibirte. Nos apasiona compartir nuestra cultura y asegurar que tu estancia sea inolvidable.
                </p>
                <p class="text-gray-700 mb-4 leading-relaxed">
                    Creemos firmemente que la mejor forma de conocer un lugar es a través de sus personas. Por eso, te invitamos a vivir una experiencia cubana auténtica, con la comodidad de un hogar y la calidez de una familia.
                </p>
                <div class="mt-6">
                    <a href="#reservas" class="inline-flex items-center text-teal-600 font-bold hover:text-teal-800"
                       onclick="gtag('event', 'click', {'event_category': 'cta', 'event_label': 'reserva_experiencia'});">
                        <span>Reserva tu experiencia cubana</span>
                        <i class="fas fa-arrow-right ml-2"></i>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- SECCIÓN DE PROMOCIÓN ESPECIAL -->
    <section class="py-16 bg-gradient-to-r from-teal-50 to-yellow-50">
        <div class="content-container mx-auto px-4">
            <div class="max-w-6xl mx-auto">
                <div class="bg-white rounded-3xl shadow-2xl overflow-hidden">
                    <div class="md:flex">
                        <!-- Lado izquierdo: Oferta -->
                        <div class="md:w-2/5 bg-gradient-to-br from-teal-600 to-teal-800 p-12 text-white relative overflow-hidden">
                            <!-- Elementos decorativos -->
                            <div class="absolute -top-20 -right-20 w-40 h-40 bg-white/10 rounded-full"></div>
                            <div class="absolute -bottom-20 -left-20 w-40 h-40 bg-white/10 rounded-full"></div>
                            
                            <div class="relative z-10">
                                <span class="inline-block bg-yellow-400 text-teal-900 px-4 py-2 rounded-full text-sm font-bold mb-6">
                                    <i class="fas fa-bolt mr-2"></i> OFERTA ESPECIAL
                                </span>
                                
                                <h3 class="text-3xl font-bold mb-4">
                                    Reserva 7+ noches<br>
                                    <span class="text-yellow-300">y obtén</span>
                                </h3>
                                
                                <div class="space-y-4 mb-8">
                                    <div class="flex items-center">
                                        <div class="bg-white/20 p-2 rounded-lg mr-4">
                                            <i class="fas fa-gift"></i>
                                        </div>
                                        <div>
                                            <p class="font-bold">Desayuno cubano GRATIS</p>
                                            <p class="text-sm opacity-90">1 día por persona</p>
                                        </div>
                                    </div>
                                    
                                    <div class="flex items-center">
                                        <div class="bg-white/20 p-2 rounded-lg mr-4">
                                            <i class="fas fa-car"></i>
                                        </div>
                                        <div>
                                            <p class="font-bold">Tour de bienvenida</p>
                                            <p class="text-sm opacity-90">Por La Habana Vieja</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="border-t border-white/30 pt-6">
                                    <p class="text-sm opacity-80 mb-2">Válido hasta:</p>
                                    <div class="flex items-center">
                                        <div class="bg-white/20 px-4 py-2 rounded-lg mr-3">
                                            <i class="fas fa-calendar-alt"></i>
                                        </div>
                                        <div>
                                            <p class="font-bold text-lg">30 de Junio 2024</p>
                                            <p class="text-sm opacity-80">o hasta agotar disponibilidad</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Lado derecho: Información -->
                        <div class="md:w-3/5 p-12">
                            <h4 class="text-2xl font-bold text-gray-900 mb-6">
                                ¿Por qué elegir esta oferta?
                            </h4>
                            
                            <div class="grid md:grid-cols-2 gap-6 mb-8">
                                <div class="flex items-start">
                                    <div class="text-teal-600 mr-4 mt-1">
                                        <i class="fas fa-check-circle text-xl"></i>
                                    </div>
                                    <div>
                                        <p class="font-bold text-gray-800">Mejor precio garantizado</p>
                                        <p class="text-gray-600 text-sm">20 USD/noche + beneficios extras</p>
                                    </div>
                                </div>
                                
                                <div class="flex items-start">
                                    <div class="text-teal-600 mr-4 mt-1">
                                        <i class="fas fa-check-circle text-xl"></i>
                                    </div>
                                    <div>
                                        <p class="font-bold text-gray-800">Experiencia completa</p>
                                        <p class="text-gray-600 text-sm">Gastronomía + Cultura + Confort</p>
                                    </div>
                                </div>
                                
                                <div class="flex items-start">
                                    <div class="text-teal-600 mr-4 mt-1">
                                        <i class="fas fa-check-circle text-xl"></i>
                                    </div>
                                    <div>
                                        <p class="font-bold text-gray-800">Flexibilidad total</p>
                                        <p class="text-gray-600 text-sm">Cancelación gratuita 7 días antes</p>
                                    </div>
                                </div>
                                
                                <div class="flex items-start">
                                    <div class="text-teal-600 mr-4 mt-1">
                                        <i class="fas fa-check-circle text-xl"></i>
                                    </div>
                                    <div>
                                        <p class="font-bold text-gray-800">Asistencia personal</p>
                                        <p class="text-gray-600 text-sm">Alexander e Isaida disponibles 24/7</p>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Contador de disponibilidad -->
                            <div class="bg-gray-100 rounded-xl p-6 mb-8">
                                <div class="flex justify-between items-center mb-4">
                                    <div>
                                        <p class="font-bold text-gray-800">Disponibilidad limitada</p>
                                        <p class="text-sm text-gray-600">Solo 3 habitaciones con esta promoción</p>
                                    </div>
                                    <div class="text-right">
                                        <p class="text-2xl font-bold text-teal-600">2/3</p>
                                        <p class="text-sm text-gray-600">habitaciones disponibles</p>
                                    </div>
                                </div>
                                <div class="w-full bg-gray-300 rounded-full h-3">
                                    <div class="bg-teal-600 h-3 rounded-full" style="width: 33%"></div>
                                </div>
                            </div>
                            
                            <!-- CTA -->
                            <div class="flex flex-wrap gap-4">
                                <a href="#reservas" 
                                   class="bg-teal-600 hover:bg-teal-700 text-white font-bold px-8 py-4 rounded-full transition-all transform hover:scale-105 shadow-lg flex-1 min-w-[200px] text-center"
                                   onclick="gtag('event', 'click', {'event_category': 'promo', 'event_label': 'aprovechar_oferta'});">
                                    <i class="fas fa-calendar-star mr-3"></i>
                                    Aprovechar Oferta
                                </a>
                                
                                <a href="https://wa.me/5356382909?text=Hola,%20quiero%20saber%20más%20sobre%20la%20oferta%20de%207+noches" 
                                   target="_blank"
                                   class="border-2 border-teal-600 text-teal-600 hover:bg-teal-50 font-bold px-8 py-4 rounded-full transition-all flex-1 min-w-[200px] text-center"
                                   onclick="trackWhatsAppClick('promo_offer');">
                                    <i class="fab fa-whatsapp mr-3"></i>
                                    Consultar por WhatsApp
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- NUEVA SECCIÓN DE VIDEO MEJORADA - SIN SUGERENCIAS DE YOUTUBE -->
    <section id="video-experiencia" class="py-20 bg-gradient-to-b from-white to-gray-50">
        <div class="content-container mx-auto px-4">
            <!-- Encabezado con narrativa -->
            <div class="text-center max-w-3xl mx-auto mb-16 animate-on-scroll">
                <span class="inline-block bg-teal-100 text-teal-800 px-4 py-2 rounded-full text-sm font-semibold mb-4">
                    <i class="fas fa-film mr-2"></i> Vive la experiencia
                </span>
                <h2 class="text-4xl font-bold text-gray-900 mb-6">
                    No solo te lo <span class="text-teal-600">contamos</span>,<br>
                    te lo <span class="text-teal-600">mostramos</span>
                </h2>
                <p class="text-gray-600 text-lg">
                    Descubre por qué nuestros huéspedes repiten año tras año. 
                    Un vistazo a la auténtica vida cubana desde dentro.
                </p>
            </div>
            
            <!-- Contenedor de video premium - SIN SUGERENCIAS -->
            <div class="max-w-5xl mx-auto animate-on-scroll">
                <div class="video-wrapper">
                    <!-- Vista previa del video (visible inicialmente) -->
                    <div id="video-preview" class="relative">
                        <img src="https://img.youtube.com/vi/M4mBVaOqMEs/maxresdefault.jpg" 
                             alt="Video experiencia Terrazas de Bayona - La Habana Cuba"
                             class="video-thumbnail">
                        
                        <div class="video-overlay">
                            <div class="play-button-large" id="play-video-btn">
                                <i class="fas fa-play"></i>
                            </div>
                        </div>
                        
                        <div class="video-caption">
                            <p class="text-sm font-semibold opacity-90">TERRAZAS DE BAYONA PRESENTA</p>
                            <p class="text-2xl font-bold mt-1">"Un día en La Habana con nosotros"</p>
                            <p class="opacity-80 mt-2">2:35 min • Haz clic para ver la experiencia completa</p>
                        </div>
                    </div>
                    
                    <!-- Iframe de YouTube (oculto inicialmente) - CONFIGURADO SIN SUGERENCIAS -->
                    <div id="video-player" class="hidden">
                        <iframe id="youtube-player"
                                class="youtube-iframe"
                                title="Video de presentación de Terrazas de Bayona - La Habana Cuba"
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                allowfullscreen>
                        </iframe>
                    </div>
                </div>
                
                <!-- Testimonio relacionado con el video -->
                <div class="bg-white p-8 rounded-xl shadow-lg -mt-8 relative z-10 mx-8 animate-on-scroll">
                    <div class="flex items-start">
                        <div class="text-teal-600 text-4xl mr-4">"</div>
                        <div>
                            <p class="text-gray-700 text-lg italic">
                                El video captura perfectamente lo que se siente estar aquí. 
                                Esa terraza al atardecer con el café cubano... ¡inolvidable!
                            </p>
                            <div class="flex items-center mt-4">
                                <div class="w-12 h-12 bg-gray-300 rounded-full mr-4"></div>
                                <div>
                                    <p class="font-bold text-gray-900">María G.</p>
                                    <p class="text-sm text-gray-600">Huésped desde España • Marzo 2024</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- SECCIÓN ALOJAMIENTO Y GALERÍA -->
    <section id="alojamiento" class="py-16 bg-gray-50 border-t border-gray-100">
        <div class="content-container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center text-teal-700 mb-12 animate-on-scroll">
                Nuestro Alojamiento: Tu Oasis en La Habana
            </h2>
            <p class="text-center text-gray-600 mb-10 max-w-2xl mx-auto animate-on-scroll">
                Descubre cada rincón de Terrazas de Bayona. Desde nuestras confortables habitaciones hasta las áreas comunes, todo diseñado para tu máximo confort y disfrute.
            </p>

            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
                <div class="gallery-item bg-white rounded-xl shadow-lg overflow-hidden animate-on-scroll">
                    <img src="https://i.postimg.cc/MTXN8kRG/habitacion.jpg" alt="Habitación principal en Terrazas de Bayona con cama doble y aire acondicionado" class="w-full h-48 object-cover">
                    <div class="p-4"><h3 class="font-semibold text-lg text-teal-700">Habitación Confortable</h3></div>
                </div>
                <div class="gallery-item bg-white rounded-xl shadow-lg overflow-hidden animate-on-scroll">
                    <img src="https://i.postimg.cc/MTXN8kRK/habitacion_1.jpg" alt="Habitación secundaria en alojamiento La Habana con aire acondicionado" class="w-full h-48 object-cover">
                    <div class="p-4"><h3 class="font-semibold text-lg text-teal-700">Espacio Adicional</h3></div>
                </div>
                <div class="gallery-item bg-white rounded-xl shadow-lg overflow-hidden animate-on-scroll">
                    <img src="https://i.postimg.cc/XJXm0MFJ/sala.jpg" alt="Sala de estar en casa particular Cuba con sofá y televisión" class="w-full h-48 object-cover">
                    <div class="p-4"><h3 class="font-semibold text-lg text-teal-700">Sala de Estar</h3></div>
                </div>
                <div class="gallery-item bg-white rounded-xl shadow-lg overflow-hidden animate-on-scroll">
                    <img src="https://i.postimg.cc/RFqyzrfZ/sala_1.jpg" alt="Sala de estar vista 2 en Terrazas de Bayona con decoración cubana" class="w-full h-48 object-cover">
                    <div class="p-4"><h3 class="font-semibold text-lg text-teal-700">Ambiente Relajado</h3></div>
                </div>
                <div class="gallery-item bg-white rounded-xl shadow-lg overflow-hidden animate-on-scroll">
                    <img src="https://i.postimg.cc/k4Dzdr8n/baño.jpg" alt="Baño privado en alojamiento La Habana Cuba limpio y moderno" class="w-full h-48 object-cover">
                    <div class="p-4"><h3 class="font-semibold text-lg text-teal-700">Baño Privado</h3></div>
                </div>
                <div class="gallery-item bg-white rounded-xl shadow-lg overflow-hidden animate-on-scroll">
                    <img src="https://i.postimg.cc/Y9jZwcg0/terraza.jpg" alt="Terraza en Terrazas de Bayona con vista y plantas tropicales" class="w-full h-48 object-cover">
                    <div class="p-4"><h3 class="font-semibold text-lg text-teal-700">Terrazas Soleadas</h3></div>
                </div>
                <div class="gallery-item bg-white rounded-xl shadow-lg overflow-hidden animate-on-scroll">
                    <img src="https://i.postimg.cc/HxjRCG5Y/frente.jpg" alt="Exterior de la casa Terrazas de Bayona - Fachada principal" class="w-full h-48 object-cover">
                    <div class="p-4"><h3 class="font-semibold text-lg text-teal-700">Fachada Principal</h3></div>
                </div>
                <div class="gallery-item bg-white rounded-xl shadow-lg overflow-hidden animate-on-scroll">
                    <img src="https://i.postimg.cc/hjh6qFxK/desayuno.jpg" alt="Desayuno tradicional cubano servido en Terrazas de Bayona La Habana" class="w-full h-48 object-cover">
                    <div class="p-4"><h3 class="font-semibold text-lg text-teal-700">Desayuno Cubano</h3></div>
                </div>
            </div>

            <!-- Precios y comodidades -->
            <div class="grid md:grid-cols-2 gap-12 mt-16">
                <div class="animate-on-scroll">
                    <h3 class="text-2xl font-bold text-teal-700 mb-6">Comodidades Incluidas</h3>
                    <ul class="grid grid-cols-2 gap-y-4 text-gray-700">
                        <li class="flex items-center"><span class="text-teal-500 mr-2">✔️</span>Agua caliente 24/7</li>
                        <li class="flex items-center"><span class="text-teal-500 mr-2">✔️</span>Aire acondicionado</li>
                        <li class="flex items-center"><span class="text-teal-500 mr-2">✔️</span>2 terrazas privadas</li>
                        <li class="flex items-center"><span class="text-teal-500 mr-2">✔️</span>Baño privado</li>
                        <li class="flex items-center"><span class="text-teal-500 mr-2">✔️</span>Wi-Fi gratuito</li>
                        <li class="flex items-center"><span class="text-teal-500 mr-2">✔️</span>Cocina compartida</li>
                        <li class="flex items-center"><span class="text-teal-500 mr-2">✔️</span>Ropa de cama</li>
                        <li class="flex items-center"><span class="text-teal-500 mr-2">✔️</span>Toallas limpias</li>
                    </ul>
                </div>

                <div class="animate-on-scroll">
                    <h3 class="text-2xl font-bold text-teal-700 mb-6">Precios por Noche</h3>
                    <div class="bg-teal-50 p-6 rounded-xl shadow-lg">
                        <p class="text-xl font-semibold mb-4 text-teal-800">Habitación privada para 2 personas:</p>
                        <ul class="space-y-3 text-gray-700">
                            <li class="flex justify-between border-b pb-2">
                                <span class="font-medium">1-6 noches:</span>
                                <span class="font-bold text-teal-600">25 USD</span>
                            </li>
                            <li class="flex justify-between border-b pb-2">
                                <span class="font-medium">7-14 noches:</span>
                                <span class="font-bold text-teal-600">20 USD</span>
                            </li>
                            <li class="flex justify-between">
                                <span class="font-medium">15+ noches:</span>
                                <span class="font-bold text-teal-600">15 USD</span>
                            </li>
                        </ul>
                        <p class="text-sm text-gray-600 mt-4">
                            <i class="fas fa-info-circle text-teal-500 mr-1"></i>
                            Precio por habitación, no por persona. Desayuno opcional: 5 USD/persona/día.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- SECCIÓN SERVICIOS ADICIONALES -->
    <section id="servicios" class="py-16 bg-white border-t border-gray-100">
        <div class="content-container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center text-teal-700 mb-12 animate-on-scroll">
                Servicios Adicionales para tu Estancia
            </h2>
            <div class="grid md:grid-cols-2 gap-12 items-center">
                <div class="animate-on-scroll">
                    <img src="https://i.postimg.cc/hjh6qFxK/desayuno.jpg" alt="Desayuno tradicional cubano en Terrazas de Bayona con café, frutas y pan" class="w-full h-auto rounded-xl shadow-2xl object-cover">
                    <div class="p-6">
                        <h3 class="text-2xl font-bold text-teal-700 mb-3">Desayunos Caseros</h3>
                        <p class="text-gray-700 leading-relaxed">
                            Empieza el día con energía. Ofrecemos deliciosos desayunos tradicionales cubanos, preparados con ingredientes frescos y mucho cariño. Incluye café cubano, frutas tropicales, pan tostado y más. ¡Una experiencia gastronómica que no querrás perderte!
                        </p>
                        <p class="text-teal-600 font-semibold mt-2">
                            <i class="fas fa-utensils mr-2"></i>Precio: 5 USD por persona por día
                        </p>
                    </div>
                </div>
                <div class="animate-on-scroll">
                    <img src="https://i.postimg.cc/k4Dzdr82/tour_habana.jpg" alt="Tour por La Habana Vieja en auto clásico desde Terrazas de Bayona" class="w-full h-auto rounded-xl shadow-2xl object-cover">
                    <div class="p-6">
                        <h3 class="text-2xl font-bold text-teal-700 mb-3">Tours y Traslados</h3>
                        <p class="text-gray-700 leading-relaxed">
                            ¿Quieres explorar La Habana o sus alrededores? Te ayudamos a organizar tours personalizados y traslados cómodos con nuestro chofer de confianza. Descubre los encantos de Cuba sin preocupaciones. Visita La Habana Vieja, el Malecón, playas cercanas y más.
                        </p>
                        <div class="mt-4">
                            <img src="https://i.postimg.cc/RFqyzrf4/chofer.jpg" alt="Chofer disponible para tours y traslados en La Habana Cuba" class="w-full h-auto rounded-xl shadow-md object-cover">
                        </div>
                        <p class="text-teal-600 font-semibold mt-2">
                            <i class="fas fa-car mr-2"></i>Precios según destino y duración
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- SECCIÓN UBICACIÓN -->
    <section id="ubicacion" class="py-16 bg-white border-t border-gray-100">
        <div class="content-container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center text-teal-700 mb-12 animate-on-scroll">
                Nuestra Ubicación: El Corazón de La Habana
            </h2>
            <p class="text-center text-gray-600 mb-10 max-w-2xl mx-auto animate-on-scroll">
                Disfruta de la comodidad de estar cerca de todo. Terrazas de Bayona se encuentra en un punto estratégico para explorar La Habana Vieja y sus alrededores.
            </p>
            <div class="grid md:grid-cols-2 gap-8 items-center">
                <div class="animate-on-scroll">
                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3782.903774889608!2d-82.3582496851234!3d23.13637158489744!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x88cd72b22f4b4b4d%3A0x6a0f7c2d7e1c8d!2sLa%20Habana%2C%20Cuba!5e0!3m2!1ses!2sus!4v1678912345678!5m2!1ses!2sus" 
                            width="100%" 
                            height="450" 
                            style="border:0;" 
                            allowfullscreen="" 
                            loading="lazy" 
                            referrerpolicy="no-referrer-when-downgrade"
                            class="rounded-xl shadow-lg"
                            title="Mapa de ubicación de Terrazas de Bayona en La Habana Cuba">
                    </iframe>
                </div>
                <div class="animate-on-scroll">
                    <h3 class="text-2xl font-bold text-teal-700 mb-6">Puntos de Interés Cercanos</h3>
                    <ul class="space-y-4 text-gray-700">
                        <li class="flex items-start">
                            <i class="fas fa-walking text-teal-500 mr-3 mt-1 text-xl"></i>
                            <div>
                                <span class="font-semibold text-lg">La Habana Vieja:</span> 
                                <p class="text-gray-600">A solo 10-15 minutos a pie del centro histórico declarado Patrimonio de la Humanidad.</p>
                            </div>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-utensils text-teal-500 mr-3 mt-1 text-xl"></i>
                            <div>
                                <span class="font-semibold text-lg">Gastronomía Local:</span> 
                                <p class="text-gray-600">Restaurantes, paladares y cafeterías auténticas a pocos pasos de la casa.</p>
                            </div>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-bus text-teal-500 mr-3 mt-1 text-xl"></i>
                            <div>
                                <span class="font-semibold text-lg">Transporte Público:</span> 
                                <p class="text-gray-600">Parada de autobús a la playa (Santa María del Mar) y otros puntos turísticos muy cercana.</p>
                            </div>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-store text-teal-500 mr-3 mt-1 text-xl"></i>
                            <div>
                                <span class="font-semibold text-lg">Mercados y Tiendas:</span> 
                                <p class="text-gray-600">Todo lo que necesitas al alcance de tu mano: supermercados, farmacias, bancos.</p>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- SECCIÓN OPINIONES -->
    <section id="opiniones" class="py-16 bg-gray-50 border-t border-gray-200">
        <div class="content-container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center text-teal-700 mb-10 animate-on-scroll">
                Opiniones de nuestros huéspedes
            </h2>

            <div id="reviews-container" class="grid md:grid-cols-2 gap-6 mb-16">
                <!-- Opiniones cargadas por JavaScript -->
            </div>

            <div class="max-w-2xl mx-auto animate-on-scroll">
                <div class="bg-white p-8 rounded-xl shadow-xl">
                    <h3 class="text-2xl font-bold text-gray-800 mb-6 text-center">Comparte tu experiencia</h3>
                    
                    <!-- FORMULARIO DE OPINIONES CON FORMSPREE -->
                    <form id="review-form" action="https://formspree.io/f/rsvodpy" method="POST">
                        <input type="hidden" name="_subject" value="⭐ NUEVA OPINIÓN - Terrazas de Bayona">
                        <input type="hidden" name="_replyto" id="review-email" value="alexanderacensio1234@gmail.com">
                        <!-- Configuración para redirigir a ambos correos -->
                        <input type="hidden" name="_cc" value="jccarlos010277@gmail.com,info@reservaterrazasdebayona59.com">
                        <input type="hidden" name="_language" value="es">
                        
                        <div class="mb-4">
                            <label for="review-name" class="block text-gray-700 text-sm font-bold mb-2">Tu nombre *</label>
                            <input type="text" id="review-name" name="nombre" placeholder="Ej: Juan Pérez" 
                                   class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:border-teal-500" required>
                        </div>
                        
                        <div class="mb-4">
                            <label for="review-email-input" class="block text-gray-700 text-sm font-bold mb-2">Tu email (opcional)</label>
                            <input type="email" id="review-email-input" name="email" placeholder="tuemail@ejemplo.com" 
                                   class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:border-teal-500">
                        </div>
                        
                        <div class="mb-4">
                            <label for="review-country" class="block text-gray-700 text-sm font-bold mb-2">País de origen</label>
                            <input type="text" id="review-country" name="pais" placeholder="Ej: España, México, etc." 
                                   class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:border-teal-500">
                        </div>

                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Calificación *</label>
                            <div class="star-rating">
                                <input type="radio" id="star5" name="estrellas" value="5" required><label for="star5" title="5 estrellas">★</label>
                                <input type="radio" id="star4" name="estrellas" value="4"><label for="star4" title="4 estrellas">★</label>
                                <input type="radio" id="star3" name="estrellas" value="3"><label for="star3" title="3 estrellas">★</label>
                                <input type="radio" id="star2" name="estrellas" value="2"><label for="star2" title="2 estrellas">★</label>
                                <input type="radio" id="star1" name="estrellas" value="1"><label for="star1" title="1 estrella">★</label>
                            </div>
                            <p class="text-xs text-gray-500 mt-1">Haz clic en las estrellas para calificar</p>
                        </div>

                        <div class="mb-6">
                            <label for="review-text" class="block text-gray-700 text-sm font-bold mb-2">Tu opinión *</label>
                            <textarea id="review-text" name="opinion" rows="4" 
                                      placeholder="Cuéntanos qué te pareció tu estancia, qué te gustó más, si recomendarías el lugar..." 
                                      class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:border-teal-500" required></textarea>
                        </div>

                        <div class="mb-6">
                            <label for="review-nights" class="block text-gray-700 text-sm font-bold mb-2">¿Cuántas noches te quedaste?</label>
                            <select id="review-nights" name="noches" 
                                    class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:border-teal-500">
                                <option value="">Selecciona...</option>
                                <option value="1-3 noches">1-3 noches</option>
                                <option value="4-7 noches">4-7 noches</option>
                                <option value="1-2 semanas">1-2 semanas</option>
                                <option value="Más de 2 semanas">Más de 2 semanas</option>
                            </select>
                        </div>
                        
                        <!-- Botón de envío con spinner -->
                        <button type="submit" id="submit-btn-review" 
                                class="w-full bg-teal-600 hover:bg-teal-700 text-white font-bold py-3 rounded-lg transition duration-300 shadow-md flex items-center justify-center"
                                onclick="gtag('event', 'submit', {'event_category': 'review', 'event_label': 'opinion_submit'});">
                            <span id="submit-text-review">Enviar Opinión</span>
                            <div id="spinner-review" class="spinner ml-2 hidden"></div>
                        </button>
                        
                        <!-- Mensaje de confirmación -->
                        <div id="form-message-review" class="text-center mt-4 text-sm font-semibold hidden"></div>
                        
                        <p class="text-center mt-4 text-xs text-gray-500">
                            <i class="fas fa-shield-alt mr-1"></i> Tus datos son seguros. Solo publicaremos tu nombre y comentario (opcional).
                        </p>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- SECCIÓN DE RESERVAS -->
    <section id="reservas" class="py-16 bg-white border-t border-gray-100">
        <div class="content-container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center text-teal-700 mb-10 animate-on-scroll">
                Reserva tu Estancia
            </h2>
            <p class="text-center text-gray-600 mb-10 max-w-2xl mx-auto animate-on-scroll">
                Completa el siguiente formulario para solicitar tu reserva. Te enviaremos confirmación en menos de 24 horas.
            </p>

            <div class="max-w-3xl mx-auto animate-on-scroll">
                <div class="bg-white p-8 rounded-xl shadow-2xl border border-gray-100">
                    <!-- FORMULARIO DE RESERVAS CON FORMSPREE -->
                    <form id="booking-form" action="https://formspree.io/f/rsvodpy" method="POST">
                        <!-- Configuración de Formspree -->
                        <input type="hidden" name="_subject" id="email-subject" value="📅 NUEVA RESERVA - Terrazas de Bayona">
                        <input type="hidden" name="_replyto" id="client-email" value="alexanderacensio1234@gmail.com">
                        <!-- Redirigir a ambos correos -->
                        <input type="hidden" name="_cc" value="jccarlos010277@gmail.com,info@reservaterrazasdebayona59.com">
                        <input type="hidden" name="_language" value="es">
                        <input type="hidden" name="tipo" value="reserva">
                        <input type="hidden" name="referencia" id="booking-reference" value="TDB-REF">
                        
                        <!-- SECCIÓN 1: DATOS PERSONALES -->
                        <div class="mb-8">
                            <h3 class="text-xl font-bold text-teal-700 mb-4 border-b pb-2">Datos Personales</h3>
                            
                            <div class="grid md:grid-cols-2 gap-4 mb-4">
                                <div>
                                    <label for="booking-name" class="block text-gray-700 text-sm font-bold mb-2">Nombre Completo *</label>
                                    <input type="text" id="booking-name" name="nombre" placeholder="Ej: Juan Pérez" 
                                           class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:border-teal-500" required>
                                </div>
                                <div>
                                    <label for="booking-email" class="block text-gray-700 text-sm font-bold mb-2">Correo Electrónico *</label>
                                    <input type="email" id="booking-email" name="email" placeholder="tucorreo@ejemplo.com" 
                                           class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:border-teal-500" required>
                                </div>
                            </div>
                            
                            <div class="grid md:grid-cols-2 gap-4 mb-4">
                                <div>
                                    <label for="booking-phone" class="block text-gray-700 text-sm font-bold mb-2">Teléfono / WhatsApp *</label>
                                    <input type="tel" id="booking-phone" name="telefono" placeholder="+34 612345678" 
                                           class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:border-teal-500" required>
                                    <p class="text-xs text-gray-500 mt-1">Incluye código de país</p>
                                </div>
                                <div>
                                    <label for="booking-country" class="block text-gray-700 text-sm font-bold mb-2">País de Origen *</label>
                                    <input type="text" id="booking-country" name="pais" placeholder="Ej: España, México, etc." 
                                           class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:border-teal-500" required>
                                </div>
                            </div>
                        </div>
                        
                        <!-- SECCIÓN 2: FECHAS Y HUÉSPEDES -->
                        <div class="mb-8">
                            <h3 class="text-xl font-bold text-teal-700 mb-4 border-b pb-2">Fechas y Huéspedes</h3>
                            
                            <div class="grid md:grid-cols-2 gap-4 mb-4">
                                <div>
                                    <label for="check-in" class="block text-gray-700 text-sm font-bold mb-2">Fecha de Entrada *</label>
                                    <input type="date" id="check-in" name="fecha_entrada" 
                                           class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:border-teal-500" required>
                                </div>
                                <div>
                                    <label for="check-out" class="block text-gray-700 text-sm font-bold mb-2">Fecha de Salida *</label>
                                    <input type="date" id="check-out" name="fecha_salida" 
                                           class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:border-teal-500" required>
                                </div>
                            </div>
                            
                            <div class="grid md:grid-cols-2 gap-4">
                                <div>
                                    <label for="guests" class="block text-gray-700 text-sm font-bold mb-2">Número de Huéspedes *</label>
                                    <select id="guests" name="huespedes" 
                                            class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:border-teal-500" required>
                                        <option value="">Selecciona...</option>
                                        <option value="1">1 persona</option>
                                        <option value="2">2 personas</option>
                                        <option value="3">3 personas</option>
                                        <option value="4">4 personas</option>
                                        <option value="5">5 personas (máximo)</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="arrival-time" class="block text-gray-700 text-sm font-bold mb-2">Hora Aproximada de Llegada</label>
                                    <select id="arrival-time" name="hora_llegada" 
                                            class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:border-teal-500">
                                        <option value="">No sé aún</option>
                                        <option value="Mañana (8:00-12:00)">Mañana (8:00-12:00)</option>
                                        <option value="Tarde (12:00-18:00)">Tarde (12:00-18:00)</option>
                                        <option value="Noche (18:00-22:00)">Noche (18:00-22:00)</option>
                                        <option value="Después de 22:00">Después de 22:00</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <!-- SECCIÓN 3: SERVICIOS ADICIONALES -->
                        <div class="mb-8">
                            <h3 class="text-xl font-bold text-teal-700 mb-4 border-b pb-2">Servicios Adicionales (Opcional)</h3>
                            
                            <div class="space-y-3">
                                <label class="flex items-center">
                                    <input type="checkbox" id="breakfast" name="servicio_desayuno" value="Sí" class="mr-3 h-5 w-5 text-teal-600">
                                    <span class="text-gray-700">Desayuno cubano tradicional (5 USD/persona/día)</span>
                                </label>
                                
                                <label class="flex items-center">
                                    <input type="checkbox" id="tour" name="servicio_tour" value="Sí" class="mr-3 h-5 w-5 text-teal-600">
                                    <span class="text-gray-700">Tour guiado por La Habana (consultar precio)</span>
                                </label>
                                
                                <label class="flex items-center">
                                    <input type="checkbox" id="transfer" name="servicio_traslado" value="Sí" class="mr-3 h-5 w-5 text-teal-600">
                                    <span class="text-gray-700">Traslado aeropuerto (consultar precio)</span>
                                </label>
                            </div>
                        </div>
                        
                        <!-- SECCIÓN 4: COMENTARIOS ESPECIALES -->
                        <div class="mb-8">
                            <h3 class="text-xl font-bold text-teal-700 mb-4 border-b pb-2">Comentarios Especiales</h3>
                            
                            <div class="mb-4">
                                <label for="special-requests" class="block text-gray-700 text-sm font-bold mb-2">Peticiones especiales, alergias, etc.</label>
                                <textarea id="special-requests" name="comentarios" rows="3" 
                                          placeholder="Ej: Soy vegetariano, necesito habitación en planta baja, llegamos tarde..." 
                                          class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:border-teal-500"></textarea>
                            </div>
                            
                            <div>
                                <label for="how-found" class="block text-gray-700 text-sm font-bold mb-2">¿Cómo nos encontraste?</label>
                                <select id="how-found" name="como_encontro" 
                                        class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:border-teal-500">
                                    <option value="">Selecciona...</option>
                                    <option value="Google/Buscador">Google / Buscador</option>
                                    <option value="Recomendación">Recomendación de amigos/familia</option>
                                    <option value="Airbnb">Airbnb</option>
                                    <option value="Booking.com">Booking.com</option>
                                    <option value="Redes sociales">Redes sociales</option>
                                    <option value="Otro">Otro</option>
                                </select>
                            </div>
                        </div>
                        
                        <!-- CALCULADOR DE PRECIO -->
                        <div class="mb-8 p-6 bg-teal-50 rounded-xl border border-teal-100">
                            <h4 class="text-lg font-bold text-teal-800 mb-3">Resumen estimado:</h4>
                            <div class="space-y-2">
                                <div class="flex justify-between">
                                    <span>Noches:</span>
                                    <span id="nights-count">0 noches</span>
                                </div>
                                <div class="flex justify-between">
                                    <span>Huéspedes:</span>
                                    <span id="guests-count">0 personas</span>
                                </div>
                                <div class="flex justify-between font-bold text-teal-700 text-lg border-t pt-2 mt-2">
                                    <span>Precio estimado:</span>
                                    <span id="estimated-price">$0 USD</span>
                                </div>
                            </div>
                            <p class="text-xs text-gray-500 mt-3">* Precio final sujeto a confirmación. Precios por noche: 1-6 noches: $25, 7-14 noches: $20, 15+ noches: $15</p>
                        </div>
                        
                        <!-- OPCIÓN WHATSAPP -->
                        <div class="mb-6 p-4 bg-blue-50 rounded-xl border border-blue-200">
                            <label class="flex items-center">
                                <input type="checkbox" name="quiero_whatsapp" value="Sí" class="mr-3 h-5 w-5 text-teal-600" checked>
                                <span class="text-gray-700 font-medium">Prefiero confirmación por WhatsApp</span>
                            </label>
                            <p class="text-sm text-gray-600 mt-2 ml-8">
                                Te enviaremos un mensaje de WhatsApp para confirmar tu reserva.
                            </p>
                        </div>
                        
                        <!-- BOTÓN DE ENVÍO -->
                        <div class="text-center">
                            <button type="submit" id="submit-btn-booking" 
                                    class="bg-teal-600 hover:bg-teal-700 text-white font-bold py-4 px-12 rounded-lg transition duration-300 transform hover:scale-105 shadow-lg text-lg flex items-center justify-center mx-auto">
                                <i class="fas fa-calendar-check mr-3"></i>
                                <span id="submit-text-booking">Solicitar Reserva</span>
                                <div id="spinner-booking" class="spinner ml-2 hidden"></div>
                            </button>
                            <p class="text-sm text-gray-500 mt-4">
                                * Recibirás confirmación por email/WhatsApp en menos de 24 horas.
                            </p>
                        </div>
                    </form>
                </div>
            </div>
            
            <!-- BLOQUE ALTERNATIVO WHATSAPP -->
            <div class="max-w-3xl mx-auto mt-8 animate-on-scroll">
                <div class="bg-gradient-to-r from-teal-50 to-blue-50 p-6 rounded-xl border border-teal-200 text-center">
                    <h4 class="text-xl font-bold text-teal-700 mb-3">¿Prefieres reservar por WhatsApp?</h4>
                    <p class="text-gray-600 mb-4">Reserva directamente y obtén respuesta inmediata</p>
                    <a href="https://wa.me/5356382909?text=Hola,%20quiero%20reservar%20en%20Terrazas%20de%20Bayona.%20Mis%20datos:%0A📅%20Fechas:%20%0A👥%20Huéspedes:%20%0A📞%20Teléfono:%20" 
                       target="_blank"
                       class="inline-flex items-center bg-green-500 hover:bg-green-600 text-white font-bold px-8 py-3 rounded-full transition transform hover:scale-105"
                       onclick="trackWhatsAppClick('reservation_button');">
                        <i class="fab fa-whatsapp text-xl mr-3"></i>
                        Reservar por WhatsApp
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- SECCIÓN CONTACTO -->
    <section id="contacto" class="py-16 bg-teal-600 text-white text-center">
        <div class="content-container mx-auto px-4 animate-on-scroll">
            <h2 class="text-3xl font-bold mb-4">¿Listo para vivir la experiencia cubana?</h2>
            <p class="text-xl mb-8 font-light">¡Esperamos tu visita! Contáctanos directamente por WhatsApp para reservar o aclarar cualquier duda.</p>
            <a href="https://wa.me/5356382909" target="_blank" class="inline-block bg-white text-teal-600 px-8 py-3 rounded-full font-bold shadow-lg hover:bg-gray-100 transition transform hover:scale-105"
               onclick="trackWhatsAppClick('contact_section');">
                <i class="fab fa-whatsapp mr-2"></i> WhatsApp: +53 56382909
            </a>
            <div class="mt-8">
                <p class="text-lg font-semibold">También puedes encontrarnos en:</p>
                <p class="text-xl mt-2">Email: 
                    <a href="mailto:alexanderacensio1234@gmail.com" class="text-white hover:text-gray-200 underline">
                        alexanderacensio1234@gmail.com
                    </a>
                </p>
                <div class="flex justify-center space-x-6 mt-4">
                    <a href="#" class="text-white hover:text-gray-200 transition text-2xl" aria-label="Facebook"
                       onclick="gtag('event', 'click', {'event_category': 'social', 'event_label': 'facebook'});">
                        <i class="fab fa-facebook-square"></i>
                    </a>
                    <a href="#" class="text-white hover:text-gray-200 transition text-2xl" aria-label="Instagram"
                       onclick="gtag('event', 'click', {'event_category': 'social', 'event_label': 'instagram'});">
                        <i class="fab fa-instagram"></i>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- PIE DE PÁGINA -->
    <footer class="bg-gray-800 text-white py-6 text-center">
        <div class="content-container mx-auto px-4">
            <p>&copy; <span id="current-year">2025</span> Terrazas de Bayona. Todos los derechos reservados.</p>
            <p class="text-sm text-gray-400 mt-2">
                Alojamiento privado en La Habana, Cuba | 
                WhatsApp: <a href="https://wa.me/5356382909" class="text-teal-300 hover:text-teal-100">+53 56382909</a> | 
                Email: <a href="mailto:alexanderacensio1234@gmail.com" class="text-teal-300 hover:text-teal-100">alexanderacensio1234@gmail.com</a>
            </p>
        </div>
    </footer>

    <!-- LÓGICA DE LA PÁGINA -->
    <script>
        // ========== SISTEMA COMPLETO CON FORMSPREE ==========
        
        // 1. ANIMACIONES AL SCROLL
        function initializeScrollReveal() {
            const elements = document.querySelectorAll('.animate-on-scroll');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('scrolled-in');
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 });
            
            elements.forEach(element => {
                if (!element.classList.contains('scrolled-in')) {
                    observer.observe(element);
                }
            });
        }
        
        // 2. CONTROL DEL VIDEO PREMIUM - SIN SUGERENCIAS DE YOUTUBE
        function setupPremiumVideoPlayer() {
            const videoPreview = document.getElementById('video-preview');
            const videoPlayer = document.getElementById('video-player');
            const youtubePlayer = document.getElementById('youtube-player');
            const playButton = document.getElementById('play-video-btn');
            
            if (videoPreview && videoPlayer && youtubePlayer && playButton) {
                // URL optimizada para YouTube - SIN SUGERENCIAS
                const videoId = 'M4mBVaOqMEs';
                const optimizedUrl = `https://www.youtube.com/embed/${videoId}?rel=0&modestbranding=1&showinfo=0&controls=1&fs=1&iv_load_policy=3&disablekb=1&autohide=1&playsinline=1`;
                
                playButton.addEventListener('click', function() {
                    // Animación de transición
                    videoPreview.style.opacity = '0';
                    videoPreview.style.transition = 'opacity 0.3s ease';
                    
                    setTimeout(() => {
                        videoPreview.style.display = 'none';
                        videoPlayer.classList.remove('hidden');
                        videoPlayer.style.opacity = '0';
                        videoPlayer.style.display = 'block';
                        
                        // Cargar el iframe con la URL optimizada
                        youtubePlayer.src = optimizedUrl + '&autoplay=1';
                        
                        // Animación de entrada
                        setTimeout(() => {
                            videoPlayer.style.opacity = '1';
                            videoPlayer.style.transition = 'opacity 0.5s ease';
                        }, 10);
                        
                        // Track event
                        if (typeof gtag !== 'undefined') {
                            gtag('event', 'video_play', {
                                'event_category': 'engagement',
                                'event_label': 'premium_experience_video'
                            });
                        }
                    }, 300);
                });
                
                // También hacer clickeable toda la preview
                videoPreview.addEventListener('click', function(e) {
                    if (e.target.closest('.play-button-large') || e.target === videoPreview) {
                        playButton.click();
                    }
                });
                
                // Detectar cuando el video termina para mostrar la preview nuevamente
                window.addEventListener('message', function(e) {
                    if (e.origin === 'https://www.youtube.com') {
                        try {
                            const data = JSON.parse(e.data);
                            if (data.event === 'onStateChange') {
                                // Estado 0 = video terminado
                                if (data.info === 0) {
                                    setTimeout(() => {
                                        // Volver a mostrar la preview
                                        youtubePlayer.src = '';
                                        videoPlayer.style.opacity = '0';
                                        setTimeout(() => {
                                            videoPlayer.style.display = 'none';
                                            videoPlayer.classList.add('hidden');
                                            videoPreview.style.display = 'block';
                                            setTimeout(() => {
                                                videoPreview.style.opacity = '1';
                                            }, 10);
                                        }, 500);
                                    }, 2000); // Esperar 2 segundos después de que termine
                                }
                            }
                        } catch (error) {
                            // Ignorar errores de parsing
                        }
                    }
                });
            }
        }
        
        // 3. NAVEGACIÓN SUAVE
        function setupSmoothScroll() {
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href').substring(1);
                    const targetElement = document.getElementById(targetId);
                    
                    if (targetElement) {
                        window.scroll({
                            top: targetElement.offsetTop - 70,
                            behavior: 'smooth'
                        });
                    }
                });
            });
        }
        
        // 4. MENÚ MÓVIL
        function setupMobileMenu() {
            const menuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            
            if (menuButton && mobileMenu) {
                menuButton.addEventListener('click', () => {
                    mobileMenu.classList.toggle('hidden');
                });
                
                document.querySelectorAll('#mobile-menu a').forEach(link => {
                    link.addEventListener('click', () => {
                        mobileMenu.classList.add('hidden');
                    });
                });
            }
        }
        
        // 5. OPINIONES ESTÁTICAS
        function setupReviews() {
            const reviewsContainer = document.getElementById('reviews-container');
            const opiniones = [
                {
                    nombre: "María González",
                    estrellas: 5,
                    texto: "Excelente atención y ubicación. Alexander e Isaida son unos anfitriones maravillosos que hacen que te sientas como en casa. Las terrazas son el lugar perfecto para relajarse después de un día de turismo por La Habana.",
                    fecha: "Marzo 2024",
                    pais: "España",
                    noches: 5,
                    verificada: true
                },
                {
                    nombre: "Carlos López",
                    estrellas: 4,
                    texto: "La terraza es espectacular al atardecer. Muy recomendado para quienes buscan autenticidad y buen trato. El desayuno cubano es delicioso y el tour que nos organizaron fue perfecto para conocer la ciudad.",
                    fecha: "Febrero 2024",
                    pais: "Argentina",
                    noches: 7,
                    verificada: true
                },
                {
                    nombre: "Ana Martínez",
                    estrellas: 5,
                    texto: "Increíble experiencia. La habitación muy cómoda y limpia. La ubicación es ideal para visitar La Habana Vieja a pie. Isaida nos dio excelentes recomendaciones de restaurantes locales auténticos.",
                    fecha: "Enero 2024",
                    pais: "México",
                    noches: 3,
                    verificada: true
                },
                {
                    nombre: "Pierre Dubois",
                    estrellas: 5,
                    texto: "Authentic Cuban experience! The hosts are wonderful and helped us discover hidden gems in Havana. The breakfast is amazing and the terraces have the best views of the neighborhood.",
                    fecha: "Diciembre 2023",
                    pais: "Francia",
                    noches: 4,
                    verificada: true
                }
            ];
            
            if (reviewsContainer) {
                let htmlOpiniones = '';
                opiniones.forEach(op => {
                    const estrellasHTML = '★'.repeat(op.estrellas) + '☆'.repeat(5 - op.estrellas);
                    htmlOpiniones += `
                        <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300 animate-on-scroll">
                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <h4 class="font-bold text-teal-700 text-lg">${op.nombre}</h4>
                                    <div class="flex items-center mt-1">
                                        <div class="text-yellow-500 text-lg mr-2">${estrellasHTML}</div>
                                        ${op.verificada ? '<span class="text-xs bg-teal-100 text-teal-800 px-2 py-1 rounded">Verificada</span>' : ''}
                                    </div>
                                </div>
                            </div>
                            <p class="text-gray-600 italic leading-relaxed">"${op.texto}"</p>
                            <div class="flex justify-between items-center mt-4 pt-4 border-t border-gray-100">
                                <div class="text-sm text-gray-500">
                                    <i class="fas fa-map-marker-alt mr-1"></i> ${op.pais} • ${op.fecha}
                                </div>
                                <div class="text-xs text-gray-400">
                                    <i class="far fa-moon mr-1"></i> ${op.noches} noches
                                </div>
                            </div>
                        </div>
                    `;
                });
                reviewsContainer.innerHTML = htmlOpiniones;
            }
        }
        
        // 6. FORMULARIO DE OPINIONES CON FORMSPREE
        function setupReviewForm() {
            const reviewForm = document.getElementById('review-form');
            const submitBtn = document.getElementById('submit-btn-review');
            const submitText = document.getElementById('submit-text-review');
            const spinner = document.getElementById('spinner-review');
            const formMessage = document.getElementById('form-message-review');
            const star5 = document.getElementById('star5');
            
            if (star5) star5.checked = true;
            
            if (reviewForm) {
                reviewForm.addEventListener('submit', async function(e) {
                    e.preventDefault();
                    
                    // Validar calificación
                    const ratingSelected = document.querySelector('input[name="estrellas"]:checked');
                    if (!ratingSelected) {
                        formMessage.textContent = 'Por favor, selecciona una calificación con estrellas.';
                        formMessage.className = 'text-center mt-4 text-sm font-semibold text-red-600';
                        formMessage.classList.remove('hidden');
                        return;
                    }
                    
                    // Mostrar loading
                    submitBtn.disabled = true;
                    submitText.textContent = 'Enviando...';
                    spinner.classList.remove('hidden');
                    
                    try {
                        // Enviar a Formspree
                        const formData = new FormData(this);
                        const response = await fetch(this.action, {
                            method: 'POST',
                            body: formData,
                            headers: {
                                'Accept': 'application/json'
                            }
                        });
                        
                        if (response.ok) {
                            // Éxito
                            formMessage.textContent = '¡Gracias por tu opinión! La revisaremos y publicaremos pronto.';
                            formMessage.className = 'text-center mt-4 text-sm font-semibold text-green-600';
                            formMessage.classList.remove('hidden');
                            
                            // Reset form
                            this.reset();
                            if (star5) star5.checked = true;
                            
                            // Track en Google Analytics
                            if (typeof gtag !== 'undefined') {
                                gtag('event', 'review_submitted', {
                                    'event_category': 'review',
                                    'event_label': 'formspree_success'
                                });
                            }
                        } else {
                            throw new Error('Error en el envío');
                        }
                    } catch (error) {
                        // Error - ofrecer alternativa WhatsApp
                        formMessage.innerHTML = `
                            Hubo un error al enviar. Puedes compartir tu opinión por WhatsApp:<br>
                            <a href="https://wa.me/5356382909?text=Hola,%20quiero%20compartir%20mi%20opinión%20sobre%20Terrazas%20de%20Bayona" 
                               target="_blank" class="text-teal-600 underline mt-2 inline-block">
                                <i class="fab fa-whatsapp mr-1"></i> Compartir por WhatsApp
                            </a>
                        `;
                        formMessage.className = 'text-center mt-4 text-sm font-semibold text-red-600';
                        formMessage.classList.remove('hidden');
                    } finally {
                        // Restaurar botón
                        submitBtn.disabled = false;
                        submitText.textContent = 'Enviar Opinión';
                        spinner.classList.add('hidden');
                        
                        // Ocultar mensaje después de 8 segundos
                        setTimeout(() => formMessage.classList.add('hidden'), 8000);
                    }
                });
            }
        }
        
        // 7. FORMULARIO DE RESERVAS CON FORMSPREE
        function setupBookingForm() {
            const checkInInput = document.getElementById('check-in');
            const checkOutInput = document.getElementById('check-out');
            const guestsSelect = document.getElementById('guests');
            const nightsCount = document.getElementById('nights-count');
            const guestsCount = document.getElementById('guests-count');
            const estimatedPrice = document.getElementById('estimated-price');
            const bookingForm = document.getElementById('booking-form');
            const bookingReference = document.getElementById('booking-reference');
            const submitBtn = document.getElementById('submit-btn-booking');
            const submitText = document.getElementById('submit-text-booking');
            const spinner = document.getElementById('spinner-booking');
            
            // Fechas por defecto
            const today = new Date();
            const todayFormatted = today.toISOString().split('T')[0];
            
            const tomorrow = new Date();
            tomorrow.setDate(tomorrow.getDate() + 1);
            const tomorrowFormatted = tomorrow.toISOString().split('T')[0];
            
            const defaultOut = new Date();
            defaultOut.setDate(defaultOut.getDate() + 4);
            const defaultOutFormatted = defaultOut.toISOString().split('T')[0];
            
            if (checkInInput) {
                checkInInput.min = todayFormatted;
                checkInInput.value = tomorrowFormatted;
            }
            
            if (checkOutInput) {
                checkOutInput.min = todayFormatted;
                checkOutInput.value = defaultOutFormatted;
            }
            
            // Generar referencia única
            function generateReference() {
                const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789';
                let ref = 'TDB-';
                for (let i = 0; i < 6; i++) {
                    ref += chars.charAt(Math.floor(Math.random() * chars.length));
                }
                return ref;
            }
            
            // Calcular precio
            function calculatePrice() {
                if (!checkInInput.value || !checkOutInput.value || !guestsSelect.value) {
                    return;
                }
                
                const checkIn = new Date(checkInInput.value);
                const checkOut = new Date(checkOutInput.value);
                
                if (checkOut <= checkIn) {
                    checkOutInput.value = '';
                    alert('La fecha de salida debe ser posterior a la de entrada');
                    return;
                }
                
                const timeDiff = checkOut.getTime() - checkIn.getTime();
                const nights = Math.ceil(timeDiff / (1000 * 3600 * 24));
                
                nightsCount.textContent = `${nights} ${nights === 1 ? 'noche' : 'noches'}`;
                guestsCount.textContent = `${guestsSelect.value} ${guestsSelect.value === '1' ? 'persona' : 'personas'}`;
                
                let pricePerNight;
                if (nights >= 15) {
                    pricePerNight = 15;
                } else if (nights >= 7) {
                    pricePerNight = 20;
                } else {
                    pricePerNight = 25;
                }
                
                // Añadir desayuno si está seleccionado
                let totalPrice = pricePerNight * nights;
                const breakfastCheckbox = document.getElementById('breakfast');
                if (breakfastCheckbox && breakfastCheckbox.checked) {
                    totalPrice += (parseInt(guestsSelect.value) * 5 * nights);
                }
                
                estimatedPrice.textContent = `$${totalPrice} USD`;
                
                // Actualizar referencia
                if (bookingReference && !bookingReference.value.startsWith('TDB-REF')) {
                    bookingReference.value = generateReference();
                }
                
                return { nights, totalPrice };
            }
            
            // Configurar email automático
            function setupEmailAutoFill() {
                const emailInput = document.getElementById('booking-email');
                const clientEmail = document.getElementById('client-email');
                const nameInput = document.getElementById('booking-name');
                const emailSubject = document.getElementById('email-subject');
                
                if (emailInput && clientEmail) {
                    emailInput.addEventListener('input', function() {
                        clientEmail.value = this.value;
                    });
                }
                
                if (nameInput && emailSubject) {
                    nameInput.addEventListener('input', function() {
                        const fecha = document.getElementById('check-in')?.value || 'NODATE';
                        const nombreCorto = this.value.substring(0, 15).replace(/\s+/g, '');
                        const ref = bookingReference?.value || 'NOREF';
                        emailSubject.value = `📅 RESERVA ${ref} - ${nombreCorto} (${fecha})`;
                    });
                }
            }
            
            // Event listeners
            if (checkInInput) checkInInput.addEventListener('change', calculatePrice);
            if (checkOutInput) checkOutInput.addEventListener('change', calculatePrice);
            if (guestsSelect) guestsSelect.addEventListener('change', calculatePrice);
            
            // Checkbox desayuno afecta precio
            const breakfastCheckbox = document.getElementById('breakfast');
            if (breakfastCheckbox) {
                breakfastCheckbox.addEventListener('change', calculatePrice);
            }
            
            // Calcular precio inicial
            setTimeout(calculatePrice, 500);
            setTimeout(setupEmailAutoFill, 1000);
            
            // Manejar envío del formulario
            if (bookingForm) {
                bookingForm.addEventListener('submit', async function(e) {
                    e.preventDefault();
                    
                    if (!guestsSelect.value) {
                        alert('Por favor, selecciona el número de huéspedes');
                        guestsSelect.focus();
                        return;
                    }
                    
                    // Mostrar loading
                    submitBtn.disabled = true;
                    submitText.textContent = 'Enviando...';
                    spinner.classList.remove('hidden');
                    
                    try {
                        // Generar referencia final
                        bookingReference.value = generateReference();
                        
                        // Enviar a Formspree
                        const formData = new FormData(this);
                        const response = await fetch(this.action, {
                            method: 'POST',
                            body: formData,
                            headers: {
                                'Accept': 'application/json'
                            }
                        });
                        
                        if (response.ok) {
                            // Éxito - mostrar modal
                            showReservationSuccess(bookingReference.value);
                            
                            // Track en Google Analytics
                            const precio = calculatePrice();
                            if (typeof gtag !== 'undefined') {
                                gtag('event', 'reservation_submitted', {
                                    'event_category': 'booking',
                                    'event_label': bookingReference.value,
                                    'value': precio?.totalPrice || 0
                                });
                            }
                            
                            // Reset form después de éxito
                            setTimeout(() => {
                                this.reset();
                                calculatePrice();
                                // Restaurar fechas por defecto
                                checkInInput.value = tomorrowFormatted;
                                checkOutInput.value = defaultOutFormatted;
                            }, 2000);
                            
                        } else {
                            throw new Error('Error en el envío');
                        }
                    } catch (error) {
                        // Error - ofrecer alternativa WhatsApp
                        showFormError(bookingReference.value);
                    } finally {
                        // Restaurar botón
                        submitBtn.disabled = false;
                        submitText.textContent = 'Solicitar Reserva';
                        spinner.classList.add('hidden');
                    }
                });
            }
        }
        
        // 8. MOSTRAR MODAL DE ÉXITO
        function showReservationSuccess(reference) {
            const modalHTML = `
                <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 modal-overlay">
                    <div class="bg-white p-8 rounded-xl max-w-md w-full text-center modal-content">
                        <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-check text-green-600 text-2xl"></i>
                        </div>
                        <h3 class="text-2xl font-bold text-gray-800 mb-3">¡Reserva Enviada!</h3>
                        <p class="text-gray-600 mb-6">
                            Hemos recibido tu solicitud de reserva. Te contactaremos por email/WhatsApp en menos de 24 horas.
                        </p>
                        <div class="bg-gray-100 p-4 rounded-lg mb-6">
                            <p class="text-sm text-gray-700">
                                <strong>Número de referencia:</strong><br>
                                <span class="text-teal-600 font-bold text-lg">${reference}</span>
                            </p>
                            <p class="text-xs text-gray-500 mt-2">
                                Guarda este número para cualquier consulta
                            </p>
                        </div>
                        <button onclick="this.parentElement.parentElement.remove()" 
                                class="bg-teal-600 text-white px-8 py-3 rounded-lg hover:bg-teal-700 transition font-medium">
                            Entendido
                        </button>
                    </div>
                </div>
            `;
            
            const modalDiv = document.createElement('div');
            modalDiv.innerHTML = modalHTML;
            document.body.appendChild(modalDiv);
            
            modalDiv.addEventListener('click', function(event) {
                if (event.target === this) {
                    this.remove();
                }
            });
        }
        
        // 9. MOSTRAR ERROR Y ALTERNATIVA
        function showFormError(reference) {
            const modalHTML = `
                <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 modal-overlay">
                    <div class="bg-white p-8 rounded-xl max-w-md w-full text-center modal-content">
                        <div class="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-exclamation-triangle text-red-600 text-2xl"></i>
                        </div>
                        <h3 class="text-2xl font-bold text-gray-800 mb-3">Hubo un error</h3>
                        <p class="text-gray-600 mb-6">
                            No pudimos enviar tu reserva automáticamente. Por favor, usa WhatsApp:
                        </p>
                        <div class="bg-gray-100 p-4 rounded-lg mb-6">
                            <p class="text-sm text-gray-700">
                                <strong>Tu referencia:</strong><br>
                                <span class="text-teal-600 font-bold text-lg">${reference}</span>
                            </p>
                        </div>
                        <a href="https://wa.me/5356382909?text=Hola,%20quiero%20reservar%20con%20referencia%20${reference}" 
                           target="_blank"
                           class="inline-flex items-center bg-green-500 hover:bg-green-600 text-white font-bold px-6 py-3 rounded-lg transition mb-4">
                            <i class="fab fa-whatsapp text-xl mr-3"></i>
                            Reservar por WhatsApp
                        </a>
                        <button onclick="this.parentElement.parentElement.remove()" 
                                class="block w-full bg-gray-200 text-gray-800 px-6 py-3 rounded-lg hover:bg-gray-300 transition font-medium mt-2">
                            Cancelar
                        </button>
                    </div>
                </div>
            `;
            
            const modalDiv = document.createElement('div');
            modalDiv.innerHTML = modalHTML;
            document.body.appendChild(modalDiv);
            
            modalDiv.addEventListener('click', function(event) {
                if (event.target === this) {
                    this.remove();
                }
            });
        }
        
        // 10. MEJORAS INTERACTIVAS
        function setupInteractions() {
            // Efecto en header al hacer scroll
            window.addEventListener('scroll', function() {
                const header = document.getElementById('main-header');
                if (window.scrollY > 50) {
                    header.classList.add('scrolled');
                } else {
                    header.classList.remove('scrolled');
                }
            });
        }
        
        // 11. INICIALIZAR TODO
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🏠 Terrazas de Bayona - Rediseño Premium Activado');
            
            initializeScrollReveal();
            setupPremiumVideoPlayer();
            setupSmoothScroll();
            setupMobileMenu();
            setupReviews();
            setupReviewForm();
            setupBookingForm();
            setupInteractions();
            
            // Año actual en footer
            document.getElementById('current-year').textContent = new Date().getFullYear();
            
            // Silenciar advertencias
            console.warn = function() {};
            
            // Track page view
            if (typeof gtag !== 'undefined') {
                gtag('event', 'page_view', {
                    page_title: document.title,
                    page_location: window.location.href,
                    page_path: window.location.pathname
                });
            }
        });
        
        // 12. RECARGAR ANIMACIONES
        window.addEventListener('scroll', function() {
            setTimeout(initializeScrollReveal, 1000);
        });
    </script>
</body>
</html>
